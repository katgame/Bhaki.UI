{"ast":null,"code":"import { ActivatedRoute } from '@angular/router';\nimport { BehaviorSubject } from 'rxjs';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { HostService } from 'app/service/bhaki-service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/service/bhaki-service\";\nimport * as i2 from \"@angular/platform-browser\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction ViewRegistrationComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 4);\n  }\n}\nfunction ViewRegistrationComponent_div_3_strong_102_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\")(1, \"p\");\n    i0.ɵɵtext(2, \" Student ID Document \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ViewRegistrationComponent_div_3_img_103_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 22);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r3.idDocument, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r3.idDocument);\n  }\n}\nfunction ViewRegistrationComponent_div_3_strong_104_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\")(1, \"p\");\n    i0.ɵɵtext(2, \" No Document Uploaded \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ViewRegistrationComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"div\", 7)(3, \"h4\", 8);\n    i0.ɵɵtext(4, \"Registration Details\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 9)(6, \"div\", 10)(7, \"div\", 5)(8, \"div\", 11)(9, \"p\");\n    i0.ɵɵtext(10, \" Registration Number: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \" \\u00A0 \");\n    i0.ɵɵelementStart(12, \"strong\")(13, \"p\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"div\", 11)(16, \"p\");\n    i0.ɵɵtext(17, \" Student Name: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \" \\u00A0 \");\n    i0.ɵɵelementStart(19, \"strong\")(20, \"p\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(22, \"div\", 5)(23, \"div\", 11)(24, \"p\");\n    i0.ɵɵtext(25, \" Registration Date: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \" \\u00A0 \");\n    i0.ɵɵelementStart(27, \"strong\")(28, \"p\");\n    i0.ɵɵtext(29);\n    i0.ɵɵpipe(30, \"date\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(31, \"div\", 11)(32, \"p\");\n    i0.ɵɵtext(33, \" Student Surname: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(34, \" \\u00A0 \");\n    i0.ɵɵelementStart(35, \"strong\")(36, \"p\");\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(38, \"div\", 5)(39, \"div\", 11)(40, \"p\");\n    i0.ɵɵtext(41, \" Registration By: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(42, \" \\u00A0 \");\n    i0.ɵɵelementStart(43, \"strong\")(44, \"p\");\n    i0.ɵɵtext(45);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(46, \"div\", 11)(47, \"p\");\n    i0.ɵɵtext(48, \" Student Id Number: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49, \" \\u00A0 \");\n    i0.ɵɵelementStart(50, \"strong\")(51, \"p\");\n    i0.ɵɵtext(52);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(53, \"div\", 5)(54, \"div\", 11)(55, \"p\");\n    i0.ɵɵtext(56, \" Paid Amount: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(57, \" \\u00A0 \");\n    i0.ɵɵelementStart(58, \"strong\")(59, \"p\");\n    i0.ɵɵtext(60);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(61, \"div\", 11)(62, \"p\");\n    i0.ɵɵtext(63, \" Student eMail: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(64, \" \\u00A0 \");\n    i0.ɵɵelementStart(65, \"strong\")(66, \"p\");\n    i0.ɵɵtext(67);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(68, \"div\", 5)(69, \"div\", 11)(70, \"p\");\n    i0.ɵɵtext(71, \" Outstanding Amount: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(72, \" \\u00A0 \");\n    i0.ɵɵelementStart(73, \"strong\")(74, \"p\");\n    i0.ɵɵtext(75);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(76, \"div\", 5)(77, \"div\", 11)(78, \"p\");\n    i0.ɵɵtext(79, \" Registration Branch: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(80, \" \\u00A0 \");\n    i0.ɵɵelementStart(81, \"strong\")(82, \"p\");\n    i0.ɵɵtext(83);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(84, \"div\", 5)(85, \"div\", 11)(86, \"p\");\n    i0.ɵɵtext(87, \" Registration Course: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(88, \" \\u00A0 \");\n    i0.ɵɵelementStart(89, \"strong\")(90, \"p\");\n    i0.ɵɵtext(91);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(92, \"div\", 5)(93, \"div\", 11)(94, \"p\");\n    i0.ɵɵtext(95, \" Reciept Reference: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(96, \" \\u00A0 \");\n    i0.ɵɵelementStart(97, \"strong\")(98, \"p\");\n    i0.ɵɵtext(99);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(100, \"div\", 12)(101, \"div\", 13);\n    i0.ɵɵtemplate(102, ViewRegistrationComponent_div_3_strong_102_Template, 3, 0, \"strong\", 14)(103, ViewRegistrationComponent_div_3_img_103_Template, 1, 2, \"img\", 15)(104, ViewRegistrationComponent_div_3_strong_104_Template, 3, 0, \"strong\", 14);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(105, \"div\", 16)(106, \"div\", 6)(107, \"ul\", 17)(108, \"li\", 18)(109, \"a\", 19)(110, \"i\", 20);\n    i0.ɵɵtext(111, \"store\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(112, \" Add new registration\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(113, \"li\", 18)(114, \"a\", 21)(115, \"i\", 20);\n    i0.ɵɵtext(116, \"list\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(117, \"View all registrations\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(14);\n    i0.ɵɵtextInterpolate(ctx_r1.result.registration.registrationNumber);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r1.result.registration.student.name);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(30, 15, ctx_r1.result.registration.createdOn, \"dd/MM/yyyy, h:mm a\"));\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r1.result.registration.student.surname);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r1.result.createBy.name);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r1.result.registration.student.idNumber);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"R\", ctx_r1.result.registration.paidAmount, \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r1.result.registration.student.emailAddress);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"R\", ctx_r1.result.registration.outstandingAmount, \"\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r1.result.branch.name);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r1.result.course.name);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r1.result.registration.recieptReference);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.idDocument);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.idDocument);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.idDocument);\n  }\n}\nexport let ViewRegistrationComponent = /*#__PURE__*/(() => {\n  class ViewRegistrationComponent {\n    constructor(bhakiService, _sanitizer, route) {\n      this.bhakiService = bhakiService;\n      this._sanitizer = _sanitizer;\n      this.route = route;\n      this.showResults = false;\n      this.hideSpinner = true;\n      this.showSpinner = new BehaviorSubject(false);\n      this.route.params.subscribe(params => {\n        this.registrationNumber = params['id'];\n      });\n    }\n    ngOnInit() {\n      this.showSpinner.subscribe(res => {\n        this.hideSpinner = res;\n      });\n      this.getRegistrationDetails(this.registrationNumber);\n    }\n    getRegistrationDetails(registrationNumber) {\n      this.showSpinner.next(true);\n      this.bhakiService.getRegistrationDetails(registrationNumber).subscribe({\n        next: res => {\n          this.showSpinner.next(false);\n          this.result = res;\n          if (res.registration.student.idDocument) {\n            this.idDocument = this._sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + res.registration.student.idDocument);\n          }\n        },\n        error: () => {\n          this.showSpinner.next(false);\n        }\n      });\n    }\n    search() {\n      console.log('searching');\n      this.showResults = true;\n    }\n    static #_ = this.ɵfac = function ViewRegistrationComponent_Factory(t) {\n      return new (t || ViewRegistrationComponent)(i0.ɵɵdirectiveInject(i1.HostService), i0.ɵɵdirectiveInject(i2.DomSanitizer), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ViewRegistrationComponent,\n      selectors: [[\"app-registration-find\"]],\n      decls: 4,\n      vars: 2,\n      consts: [[1, \"main-content\"], [1, \"container-fluid\"], [\"class\", \"loader\", 4, \"ngIf\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"loader\"], [1, \"row\"], [1, \"card\"], [1, \"card-header\", \"card-header-danger\"], [1, \"card-title\"], [1, \"card-body\"], [1, \"col-md-9\"], [1, \"col-md-6\", 2, \"display\", \"inline-flex\"], [1, \"row\", 2, \"margin-top\", \"3rem\"], [1, \"col-md-6\"], [4, \"ngIf\"], [\"class\", \"image\", 3, \"src\", \"alt\", 4, \"ngIf\"], [1, \"col-md-3\"], [1, \"mt-3\", \"unstyled\", \"list-group\"], [1, \"list-group-item\", \"list-group-item-action\"], [\"href\", \"#/registration\", 1, \"d-flex\", \"flex-row\"], [1, \"material-icons\", \"mr-2\"], [\"href\", \"#/reports\", 1, \"d-flex\", \"flex-row\"], [1, \"image\", 3, \"src\", \"alt\"]],\n      template: function ViewRegistrationComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n          i0.ɵɵtemplate(2, ViewRegistrationComponent_div_2_Template, 1, 0, \"div\", 2)(3, ViewRegistrationComponent_div_3_Template, 118, 18, \"div\", 3);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.hideSpinner);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.hideSpinner);\n        }\n      },\n      dependencies: [i4.NgIf, i4.DatePipe],\n      styles: [\".navbar-form[_ngcontent-%COMP%]{max-width:450px}.image[_ngcontent-%COMP%]{width:150%}.loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after{background:#000;animation:_ngcontent-%COMP%_load1 1s infinite ease-in-out;width:1em;height:4em}.loader[_ngcontent-%COMP%]{color:#000;text-indent:-9999em;margin:17rem auto;position:relative;font-size:11px;transform:translateZ(0);animation-delay:-.16s}.loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after{position:absolute;top:0;content:\\\"\\\"}.loader[_ngcontent-%COMP%]:before{left:-1.5em;animation-delay:-.32s}.loader[_ngcontent-%COMP%]:after{left:1.5em}@keyframes _ngcontent-%COMP%_load1{0%,80%,to{box-shadow:0 0;height:4em}40%{box-shadow:0 -2em;height:5em}}\"]\n    });\n  }\n  return ViewRegistrationComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}