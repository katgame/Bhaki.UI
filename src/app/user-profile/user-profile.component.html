<div class="main-content">
  <div class="container-fluid">
    <div *ngIf="hideSpinner" class="loader"></div>
    <div class="row"  *ngIf="!hideSpinner">
          <div class="col-md-9">
              <div class="card">
                  <div class="card-header card-header-danger">
                      <h4 class="card-title">Registration</h4>
                      <p class="card-category">Complete form below</p>
                  </div>
                  <div class="card-body">
                      <form  [formGroup]="registrationForm">
                          <div class="row">
                              <div class="col-md-6">
                                <mat-form-field class="example-full-width" >
                                  <input  [formControlName]="fields.firstName"   (keypress)="textValidation($event)"  [id]="fields.firstName"  matInput placeholder="Fist Name" type="text" required>
                                </mat-form-field>
                              </div>
                              <div class="col-md-6">
                                <mat-form-field class="example-full-width" >
                                  <input [formControlName]="fields.lastName"  (keypress)="textValidation($event)"  [id]="fields.lastName" matInput placeholder="Last Name" type="text" required>
                                </mat-form-field>
                              </div>
                            
                          </div>
                          <div class="row">
                             <div class="col-md-6">
                                  <mat-form-field class="example-full-width" >
                                    <input [formControlName]="fields.idNumber"  (keypress)="numbersValidation($event)"  [id]="fields.idNumber" matInput placeholder="ID Number" required>
                                  </mat-form-field>
                              </div>
                              <div class="col-md-6">
                                  <mat-form-field class="example-full-width" >
                                    <input [formControlName]="fields.email"  [id]="fields.email" matInput placeholder="Email address" type="email" >
                                  </mat-form-field>
                              </div>
                          </div>
                          <div class="row">
                            <div class="col-md-6">
                              <mat-form-field class="example-full-width" >
                                <input [formControlName]="fields.cellphone"  (keypress)="numbersValidation($event)"  [id]="fields.cellphone" matInput placeholder="Cell Phone" required>
                              </mat-form-field>
                          </div>
                          <div class="col-md-6">
                            <mat-form-field class="example-full-width">
                              <mat-label>Course </mat-label>
                            <mat-select required [formControlName]="fields.course" [id]="fields.course">
                              <mat-option *ngFor="let course of Course" [value]="course.name" >{{course.name }} - R {{course.price}}</mat-option>
                            </mat-select>
                            </mat-form-field>
                          </div>
                          </div>
                          <div class="row">
                            <div class="col-md-6">
                                 <mat-form-field class="example-full-width" >
                                   <input [formControlName]="fields.amountPaid"  (keypress)="numbersValidation($event)" (focusout)="getOustandingAmount()" [id]="fields.amountPaid" matInput placeholder="Amount Paid" required type="number">
                                 </mat-form-field>
                             </div>
                             <div class="col-md-6">
                                 <mat-form-field class="example-full-width" >
                                  <input [formControlName]="fields.outstandingAmount" disabled [id]="fields.outstandingAmount" [value]="outstandingAmount"  matInput placeholder="Outstanding Amount" required type="number">
                                 </mat-form-field>
                             </div>
                         </div>
                         <div class="row">
                          <div class="col-md-6">
                            <mat-form-field class="example-full-width">
                               <input [formControlName]="fields.streetAddress" [id]="fields.streetAddress" matInput placeholder="Street Address">
                             </mat-form-field>
                          </div>
                          <div class="col-md-6">
                            <mat-form-field class="example-full-width" >
                             <input [formControlName]="fields.city" [id]="fields.city" matInput placeholder="City" required type="text">
                            </mat-form-field>
                        </div>
                      </div>
                          <div class="row">
                              <div class="col-md-6">
                                <mat-form-field class="example-full-width">
                                  <input [formControlName]="fields.line1" [id]="fields.line1" matInput placeholder="Address line 1" type="text">
                                </mat-form-field>
                              </div>
                              <div class="col-md-6">
                                <mat-form-field class="example-full-width">
                                  <input  [formControlName]="fields.line2" [id]="fields.line2"  matInput placeholder="Address line 2" type="text">
                                </mat-form-field>
                              </div>
                              <div class="col-md-6">
                                <mat-form-field class="example-full-width">
                                  <input  [formControlName]="fields.postalCode" [id]="fields.postalCode" matInput placeholder="Postal Code" type="text">
                                </mat-form-field>
                              </div>
                              <div class="col-md-6">
                                <mat-form-field class="example-full-width">
                                  <input  [formControlName]="fields.recieptReference" [id]="fields.recieptReference" matInput placeholder="Reciept Reference" type="text">
                                </mat-form-field>
                              </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <input type="file" [formControlName]="fields.idDocument" [id]="fields.idDocument" #fileInput placeholder="Upload ID Document"  (change)="onFileSelect($event)" [(ngModel)]="documentFile"/>
                            </div>
                        </div>
                          <button mat-raised-button type="submit" class="btn btn-info pull-right button"  (click)="createRegistration()">Submit</button>
                      
                      </form>
                  </div>
              </div>
          </div>
          <div class="col-md-3">
            <div class="card">
              <ul class="mt-3 unstyled list-group">
                <!-- <li class="list-group-item list-group-item-action"><a [routerLink]="'/registration'"  class="d-flex flex-row"><i class="material-icons mr-2">store</i>  Add new registration</a></li> -->
                <!-- <li class="list-group-item list-group-item-action"><a [routerLink]="'/find-registration'"  class="d-flex flex-row"><i class="material-icons mr-2">search</i> Find a registration</a></li> -->
                <li class="list-group-item list-group-item-action"><a [routerLink]="'/reports'"  class="d-flex flex-row"><i class="material-icons mr-2">list</i>View all registrations</a></li>
              </ul>
        
            </div>   
          </div>
      </div>
  </div>
</div>
